<!DOCTYPE html>
<html>
	<meta http-equiv="Content-Type" charset="utf-8" >
	<head>
        <title>Bad demo</title>
        <script>
            /**
             * 如果你知道某个元素即将被移除，那么最好手工移除事件处理程序。
             */
            window.onload = function () {

                var button = document.getElementById('button');
                button.onclick = function () {
                    /**
                     * 在设置 <div> 的 innerHTML 属性之前，先移除了按钮的事件处理程序。
                     * 这样就确保了内存可以被再次利用，而从 DOM 中移除按钮也做到了干净利索。
                     *
                     * 注意，在事件处理程序中删除按钮也能阻止事件冒泡。目标元素在文档中是事件冒泡的前提。
                     */
                    button.onclick = null;// 移除事件处理程序
                    document.getElementById('mydiv').innerHTML = "Processing...";
                };
            };
        </script>
    </head>
	<body>
		<div id="mydiv">
            <input type="button" id="button" value="Click me!">
        </div>
	</body>

</html>
